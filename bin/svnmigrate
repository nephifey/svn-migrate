#!/usr/bin/php
<?php
$autoloadFileLoaded = false;
foreach ([__DIR__ . "/../../../autoload.php", __DIR__ . "/../vendor/autoload.php"] as $file) {
	if (!file_exists($file))
        continue;

	require_once $file;
	$autoloadFileLoaded = true;
	break;
}

if (!$autoloadFileLoaded) {
    throw new Exception("The composer autoload file was not found. Run \"composer install\" and try again.");
}

$application = new \Symfony\Component\Console\Application("svn-migrate", \SvnMigrate\Settings::VERSION);
$application->addCommands([
	new \SvnMigrate\MigrateCore\MigrateCoreCommand(),
	new \SvnMigrate\MigrateCore\SvnCreateGitAuthorFileCommand(),
	new \SvnMigrate\MigrateCore\GitSvnCloneCommand(),
]);
$application->run();
